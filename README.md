# 日志敏感数据检查脚本

## 简介

- 此脚本用于检查日志文件中客户的敏感信息
- 检查内容覆盖了C3类数据和C2类数据的客户敏感信息
- 采用字段匹配和正则匹配两种方式进行检查
- 正则匹配的规则包括：
  - C3类数据（不允许保存）：
    - 银行卡磁道数据-磁道2
    - 银行卡磁道数据-磁道3
    - 银行卡账号
    - 用于身份鉴别生物识别信息
  - C2类数据（需要脱敏后保存）：
    - 证件号码
    - 手机号码
    - 家庭地址
- 字段匹配可以在配置文件configs.ini中进行配置，配置key后即可在日志文件中扫描相关字段

## 使用方法

- Python环境：Python3

- 扫描单独日志敏感信息：
  - `$ python3 loginfoCheck.py -f *.log`

- 扫描文件夹日志敏感信息：
  - `$ python3 loginfoCheck.py -d /dir`

- 指定输出路径：
  - `$ python3 loginfoCheck.py -f *.log -s /dir`

- 默认输出路径为./info_check.txt ./info_check.csv


## 版本更新信息

### v0.6.1

1. 优化正则匹配规则，更加精准匹配敏感信息的检出。

### v0.6.0

1. 新增 GB2312 转 UTF-8 编码转换功能，程序中自动转码。
2. 变更默认扫描级别更改为 Level 2。
3. 优化 .gz 文件解压功能，支持在 '-f' 和 '-d' 后面加上 '-gz'，以在执行扫描前解压压缩文件。
4. 优化控制台输出，实时显示扫描进度，更新文件扫描状态。
5. 修复已知BUG。

### v0.5.230706

1. 新增了扫描级别选项，Level 1 仅检出当前行首条敏感信息（速度快）,Level 2 检出当前行所有敏感信息（精度高）。默认使用1级。
2. 新增了.gz解压功能，将当前文件夹中所有的.gz文件遍历解压并将源.gz文件删除。
3. 新增了文件夹扫描功能，参数为：-d /dir。
4. 新增了当前扫描进度在控制台输出。
5. 优化正则匹配精度。

### v0.4.230627

1. 新增了压缩包扫描功能（压缩包内仅有文件夹及日志文件），支持.zip .rar两种压缩包文件格式。
2. 新增了压缩包中文件转码功能，自动转为utf-8。
3. 新增了csv输出格式。
4. 优化了检出精度，同行数据中所有的敏感信息将被检出。
5. 优化了扫描结果输出，输出格式为*'敏感数据类型','配置文件匹配字段','疑似敏感信息','文件名称','检出行数'*。

### v0.3.221104

1. 忘了～

### v0.2.221101

1. 新增了configs.ini配置文件。
2. 新增了扫描类型，可以在配置文件中添加log的检查字段（key）列。
3. 新增了扫描用时计时。
4. 优化了扫描结果输出。

### v0.1

1. 新增了日志检查扫描。
